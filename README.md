# 랭디 서버 개발자 코딩 테스트
### 개요
1. spring으로 서버를 구축하고, 아래 [작업]의 내용들을 참고하여 랭디 수업 신청 기능을 구현해주세요.
2. rails를 기반으로 작성된 코딩 테스트이므로, 일부 `용어`, `네이밍 컨벤션`, `코드 예시`가 spring에 맞지 않을 수 있는 점 양해부탁드립니다. 가장 유사하다고 생각되는 spring 기반의 개념에 대입하여 테스트를 수행해주세요.
3. 각 작업에 명시된 요구 조건들은 포함하여 구현하되, 명시된 조건이 없는 모든 코드는 주석으로만 작성해도 무방합니다. 예를 들어 '수업 취소'라는 코드가 필요하지만 명시된 조건이 없다면 아래와 같이 메소드 이름만 작성해도 됩니다.
4. 과제 결과물은 github repository에 업로드한 뒤 링크를 공유해주세요. 서버를 실행할 수 있는 코드를 readme에 반드시 첨부해주세요.
```
# Ruby on Rails 방식으로 작성된 코드 예시
class Lesson
  def cancel
    # 강의 취소
  end
end
```

### 작업
- 공통
  - 필요한 model은 lesson, teacher, student입니다.
  - 이외의 class는 작업자 판단에 따라 필요 시 생성해주세요.

- task1
  - 요청에 대해 차단 ip 체크를 하는 기능을 구현해주세요.
  - 차단하기를 원하는 ip는 서버 캐시에 "blocked_ips"라는 키로 저장되어있습니다.

- task2
  - 수업 신청을 하는 기능을 `lesson` controller에 구현해주세요.
  - 수업 신청에 필요한 파라미터가 존재하는지 체크해야 합니다. 수업 신청에는 `course_id`, `teacher_id`, `start_at`값이 필수적입니다.
  - lesson 생성 전 선생님과 학습자가 각각 수업이 가능한 시간인지 체크해야 합니다. 요청된 start_at에 대해서 각각 수업 신청이 가능한 상태인지 확인해주세요.
  - 유효성 검사에서 문제가 없다면 lesson을 생성해주세요.
  - 위 요구사항들을 충족시키지 못하는 오류가 발생할 수 있다고 가정하고, 오류에 대응하는 코드를 작성해주세요. 단순 로그를 남길 지, 어떠한 형태로 return을 할 지는 자유롭게 작성해주세요.
 
- task 3
  - 수업 취소를 하는 기능을 `lesson` controller에 구현해주세요.
  - 수업 취소 시 데이터를 삭제하지 말고 상태 관리 방식으로 구현해주세요.
  - 수업 취소 전 유효성 검사가 필요합니다. 현재 시점이 수업 시작 12시간보다 이전인지, 이미 취소된 강의는 아닌지 확인해주세요.
  - 유효성 검사에서 문제가 없다면 lesson 데이터를 변경해주세요.
  - 위 요구사항들을 충족시키지 못하는 오류가 발생할 수 있다고 가정하고, 오류에 대응하는 코드를 작성해주세요. 단순 로그를 남길 지, 어떠한 형태로 return을 할 지는 자유롭게 작성해주세요.

- task4
  - 수업 생성 후 선생님에게 수업이 신청되었음을 알리는 이메일을 동기로 전송하는 기능을 구현해주세요.
  - 이메일을 전송하는 코드 자체는 없어도 됩니다. 예를 들어 send_email이라는 메소드 명칭을 사용한다면, 적절한 위치에 정의만 해주시고, 메소드 내 코드는 작성하지 않으셔도 됩니다.

- task5
  - 수업 생성 후 학생에게 수업이 신청되었음을 알리는 앱 푸시메시지를 비동기로 전송하는 기능을 구현해주세요.
  - os 정보는 student 모델의 device_os 컬럼에 저장되어 있으며, device_os 컬럼은 'ios'와 'android'라는 enum 설정이 되어있습니다.
  - 푸시메시지를 전송하는 코드 자체는 없어도 됩니다. 예를 들어 send_fcm, send_apns라는 메소드 명칭을 사용한다면, 적절한 위치에 정의만 해주시고, 메소드 내 코드는 작성하지 않으셔도 됩니다.
